{"ast":null,"code":"import _slicedToArray from\"C:/Users/Naor/Desktop/code/Summer Projects/SocialPlace/social/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import PostText from'./PostText';import*as React from'react';import Stack from'@mui/material/Stack';import Button from'@mui/material/Button';import{useState}from'react';import{useDispatch,useSelector}from'react-redux';import{setUpdate}from'../features/feedSlice';import Avatar from'@mui/material/Avatar';import Box from'@mui/material/Box';import Card from'@mui/material/Card';import CardContent from'@mui/material/CardContent';import api from'../api/axios';import PhotoIcon from'@mui/icons-material/Photo';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PostCreate=function PostCreate(){var dispatch=useDispatch();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),text=_useState2[0],setText=_useState2[1];var userOb=useSelector(function(state){var _state$auth;return(_state$auth=state.auth)===null||_state$auth===void 0?void 0:_state$auth.userOb;});var handlePost=function handlePost(text){setText(\"\");api.post(\"/post\",{user:userOb._id,description:text}).then(function(res){dispatch(setUpdate());}).catch(function(err){console.log(\"Error: \",err);});};var clickEnter=function clickEnter(e){if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();handlePost(text);}};return/*#__PURE__*/_jsx(Card,{sx:{borderRadius:'15px'},children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(Stack,{spacing:1,direction:\"row\",sx:{display:'flex',width:'100%'},children:[/*#__PURE__*/_jsx(Avatar,{\"aria-label\":\"recipe\",children:/*#__PURE__*/_jsx(\"img\",{src:userOb.avatar})}),/*#__PURE__*/_jsx(PostText,{setText:setText,text:text,clickEnter:clickEnter,placeholder:\"Tell us your story\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"small\",sx:{borderRadius:'20px'},onClick:function onClick(){handlePost(text);},children:\"Post\"})]})})});};export default PostCreate;","map":{"version":3,"names":["PostText","React","Stack","Button","useState","useDispatch","useSelector","setUpdate","Avatar","Box","Card","CardContent","api","PhotoIcon","jsx","_jsx","jsxs","_jsxs","PostCreate","dispatch","_useState","_useState2","_slicedToArray","text","setText","userOb","state","_state$auth","auth","handlePost","post","user","_id","description","then","res","catch","err","console","log","clickEnter","e","key","shiftKey","preventDefault","sx","borderRadius","children","spacing","direction","display","width","src","avatar","placeholder","variant","size","onClick"],"sources":["C:/Users/Naor/Desktop/code/Summer Projects/SocialPlace/social/src/components/PostCreate.js"],"sourcesContent":["import PostText from './PostText';\r\nimport * as React from 'react';\r\nimport Stack from '@mui/material/Stack';\r\nimport Button from '@mui/material/Button';\r\nimport { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setUpdate } from '../features/feedSlice';\r\nimport Avatar from '@mui/material/Avatar';\r\nimport Box from '@mui/material/Box';\r\nimport Card from '@mui/material/Card';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport api from '../api/axios';\r\nimport PhotoIcon from '@mui/icons-material/Photo';\r\n\r\nconst PostCreate = () => {\r\n  const dispatch = useDispatch();\r\n  const [text, setText] = useState(\"\");\r\n  const userOb = useSelector((state) => state.auth?.userOb);\r\n\r\n  const handlePost = (text) => {\r\n    setText(\"\");\r\n    api\r\n      .post(\"/post\", {\r\n        user: userOb._id,\r\n        description: text,\r\n      })\r\n      .then((res) => {\r\n        dispatch(setUpdate());\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Error: \", err);\r\n      });\r\n\r\n  }\r\n  \r\n  const clickEnter = (e) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handlePost(text)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Card sx={{ borderRadius:'15px' }}>\r\n    <CardContent>\r\n    <Stack spacing={1} direction=\"row\" sx={{ display: 'flex', width: '100%' }}>\r\n      <Avatar  aria-label=\"recipe\">\r\n        <img src={userOb.avatar}></img>\r\n      </Avatar>\r\n\r\n      <PostText setText={setText} text={text} clickEnter={clickEnter}   placeholder={\"Tell us your story\"} />\r\n      <Button variant=\"contained\" size=\"small\" sx={{ borderRadius: '20px' }} onClick={() => { handlePost(text); }}>Post</Button>\r\n      \r\n    </Stack>\r\n    </CardContent>\r\n      </Card>\r\n  );\r\n}\r\n\r\nexport default PostCreate;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}